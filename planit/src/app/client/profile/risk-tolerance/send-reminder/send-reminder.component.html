<div class="side-form">
    <div class="box">
        <div class="box-header">
            <span class="sidebar_title" [translate]="'RISK_TOLERANCE_PAGE.FORM.TITLE.SEND_REMINDER'"></span>
            <span (click)="back()" class="sidebar_action_icon ion-close-circled"></span>
        </div>
        <!-- tools box -->
        <br/>

        <div class="box-body">
            <form name="form" (ngSubmit)="sendReminder() && f.form.valid" #f="ngForm" novalidate>
                <div class="form-group" [ngClass]="{'has-error': !from.valid && (from.dirty || from.touched || f.submitted)}">
                    <label class=custom-form-label [translate]="'FORM.EMAIL'"></label>
                    <input type="text" class="form-control" name="from" [(ngModel)]="reminder.from" #from="ngModel" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$"
                        required />
                </div>
                <div class="form-group" *ngIf="reminder.to">
                    <label class="custom-form-label" [translate]="'FORM.SEND_TO'"></label>
                    <span class="form-value-lbl">{{reminder.to}}</span>
                </div>
                <div class="form-group" [ngClass]="{'has-error': !subject.valid && (subject.dirty || subject.touched || f.submitted)}">
                    <label class=custom-form-label [translate]="'FORM.SUBJECT'"></label>
                    <input type="text" class="form-control" name="subject" [(ngModel)]="reminder.subject" #subject="ngModel" required myNoSpaces />
                </div>
                <div class="form-group" [ngClass]="{'has-error': !message.valid && (message.dirty || message.touched || f.submitted)}">
                    <label class=custom-form-label [translate]="'FORM.MESSAGE'"></label>
                    <textarea class="form-control large-input" name="message" [(ngModel)]="reminder.message" #message="ngModel" required rows="10" myNoSpaces></textarea>
                </div>
                <div class="form-group">
                    <p class="form-note">
                        A link to collaborate online in miPlanPlus will automatically be included with this message. If the recipient does not
                        already have an account they will be asked to set one up and choose their own password. If they already have an account
                        they will have the option to reset their password if needed. 
                    </p>
                </div>
                <div class="form-group">
                    <button class="btn btn-secondary btn-small mr-2"  type="button"  (click)="back()" [translate]="'FORM.ACTION.CANCEL'"></button>
                    <button type="submit" class="btn btn-success btn-small" [disabled]="!f.form.valid" [translate]="'RISK_TOLERANCE_PAGE.TABLE.ACTIONS.SEND_REMINDER'"></button>
                </div>
            </form>
        </div>
    </div>
</div>