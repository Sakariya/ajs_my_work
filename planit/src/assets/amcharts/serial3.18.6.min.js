(function(){var a=window.AmCharts;a.AmRectangularChart=a.Class({inherits:a.AmCoordinateChart,construct:function(b){a.AmRectangularChart.base.construct.call(this,b);this.theme=b;this.createEvents("zoomed","changed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;a.applyTheme(this,b,"AmRectangularChart")},initChart:function(){a.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){a.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(a.ifArray(this.chartData)){var b=this.chartCursor;b&&b.draw()}},resetMargins:function(){var f={},e;if("xy"==this.type){var j=this.xAxes,i=this.yAxes;for(e=0;e<j.length;e++){var h=j[e];h.ignoreAxisWidth||(h.setOrientation(!0),h.fixAxisPosition(),f[h.position]=!0)}for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(!1),j.fixAxisPosition(),f[j.position]=!0)}}else{i=this.valueAxes;for(e=0;e<i.length;e++){j=i[e],j.ignoreAxisWidth||(j.setOrientation(this.rotate),j.fixAxisPosition(),f[j.position]=!0)}(e=this.categoryAxis)&&!e.ignoreAxisWidth&&(e.setOrientation(!this.rotate),e.fixAxisPosition(),e.fixAxisPosition(),f[e.position]=!0)}f.left&&(this.marginLeft=0);f.right&&(this.marginRight=0);f.top&&(this.marginTop=0);f.bottom&&(this.marginBottom=0);this.fixMargins=f},measureMargins:function(){var t=this.valueAxes,s,r=this.autoMarginOffset,q=this.fixMargins,n=this.realWidth,k=this.realHeight,o=r,p=r,j=n;s=k;var i;for(i=0;i<t.length;i++){t[i].handleSynchronization(),s=this.getAxisBounds(t[i],o,j,p,s),o=Math.round(s.l),j=Math.round(s.r),p=Math.round(s.t),s=Math.round(s.b)}if(t=this.categoryAxis){s=this.getAxisBounds(t,o,j,p,s),o=Math.round(s.l),j=Math.round(s.r),p=Math.round(s.t),s=Math.round(s.b)}q.left&&o<r&&(this.marginLeft=Math.round(-o+r));q.right&&j>=n-r&&(this.marginRight=Math.round(j-n+r));q.top&&p<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-p+r+this.titleHeight));q.bottom&&s>k-r&&(this.marginBottom=Math.round(this.marginBottom+s-k+r));this.initChart()},getAxisBounds:function(i,h,n,m,j){if(!i.ignoreAxisWidth){var l=i.labelsSet,k=i.tickLength;i.inside&&(k=0);if(l){switch(l=i.getBBox(),i.position){case"top":i=l.y;m>i&&(m=i);break;case"bottom":i=l.y+l.height;j<i&&(j=i);break;case"right":i=l.x+l.width+k+3;n<i&&(n=i);break;case"left":i=l.x-k,h>i&&(h=i)}}}return{l:h,t:m,r:n,b:j}},drawZoomOutButton:function(){var z=this;if(!z.zbSet){var y=z.container.set();z.zoomButtonSet.push(y);var x=z.color,w=z.fontSize,u=z.zoomOutButtonImageSize,t=z.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),v=a.lang.zoomOutText||z.zoomOutText,s=z.zoomOutButtonColor,r=z.zoomOutButtonAlpha,o=z.zoomOutButtonFontSize,e=z.zoomOutButtonPadding;isNaN(o)||(w=o);(o=z.zoomOutButtonFontColor)&&(x=o);var o=z.zoomOutButton,j;o&&(o.fontSize&&(w=o.fontSize),o.color&&(x=o.color),o.backgroundColor&&(s=o.backgroundColor),isNaN(o.backgroundAlpha)||(z.zoomOutButtonRollOverAlpha=o.backgroundAlpha));var i=o=0;void 0!==z.pathToImages&&t&&(j=z.container.image(z.pathToImages+t+z.extension,0,0,u,u),a.setCN(z,j,"zoom-out-image"),y.push(j),j=j.getBBox(),o=j.width+5);void 0!==v&&(x=a.text(z.container,v,x,z.fontFamily,w,"start"),a.setCN(z,x,"zoom-out-label"),w=x.getBBox(),i=j?j.height/2-3:w.height/2,x.translate(o,i),y.push(x));j=y.getBBox();x=1;a.isModern||(x=0);s=a.rect(z.container,j.width+2*e+5,j.height+2*e-2,s,1,1,s,x);s.setAttr("opacity",r);s.translate(-e,-e);a.setCN(z,s,"zoom-out-bg");y.push(s);s.toBack();z.zbBG=s;j=s.getBBox();y.translate(z.marginLeftReal+z.plotAreaWidth-j.width+e,z.marginTopReal+e);y.hide();y.mouseover(function(){z.rollOverZB()}).mouseout(function(){z.rollOutZB()}).click(function(){z.clickZB()}).touchstart(function(){z.rollOverZB()}).touchend(function(){z.rollOutZB();z.clickZB()});for(r=0;r<y.length;r++){y[r].attr({cursor:"pointer"})}z.zbSet=y}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,s=this.dy,r=this.marginLeftReal,q=this.marginTopReal,o=this.plotAreaWidth-1,n=this.plotAreaHeight-1,p=this.plotAreaFillColors,j=this.plotAreaFillAlphas,i=this.plotAreaBorderColor,e=this.plotAreaBorderAlpha;"object"==typeof j&&(j=j[0]);p=a.polygon(this.container,[0,o,o,0,0],[0,0,n,n,0],p,j,1,i,e,this.plotAreaGradientAngle);a.setCN(this,p,"plot-area");p.translate(r+t,q+s);this.set.push(p);0!==t&&0!==s&&(p=this.plotAreaFillColors,"object"==typeof p&&(p=p[0]),p=a.adjustLuminosity(p,-0.15),o=a.polygon(this.container,[0,t,o+t,o,0],[0,s,s,0,0],p,j,1,i,e),a.setCN(this,o,"plot-area-bottom"),o.translate(r,q+n),this.set.push(o),t=a.polygon(this.container,[0,0,t,t,0],[0,n,n+s,s,0],p,j,1,i,e),a.setCN(this,t,"plot-area-left"),t.translate(r,q),this.set.push(t));(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var f=this.updateWidth(),e=this.updateHeight(),h=this.container;this.realWidth=f;this.realWidth=e;h&&this.container.setSize(f,e);var h=this.marginLeftReal,g=this.marginTopReal,f=f-h-this.marginRightReal-this.dx,e=e-g-this.marginBottomReal;1>f&&(f=1);1>e&&(e=1);this.plotAreaWidth=Math.round(f);this.plotAreaHeight=Math.round(e);this.plotBalloonsSet.translate(h,g)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var b=this.getTitleHeight();this.titleHeight=b;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=b);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var e=this.valueAxes,d;for(d=0;d<e.length;d++){var f=e[d];this.setAxisRenderers(f);this.updateObjectSize(f)}},setAxisRenderers:function(b){b.axisRenderer=a.RecAxis;b.guideFillRenderer=a.RecFill;b.axisItemRenderer=a.RecItem;b.marginsChanged=!0},updateGraphs:function(){var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.index=d;f.rotate=this.rotate;this.updateObjectSize(f)}},updateObjectSize:function(b){b.width=this.plotAreaWidth-1;b.height=this.plotAreaHeight-1;b.x=this.marginLeftReal;b.y=this.marginTopReal;b.dx=this.dx;b.dy=this.dy},updateChartCursor:function(){var b=this.chartCursor;b&&(b=a.processObject(b,a.ChartCursor,this.theme),this.updateObjectSize(b),this.addChartCursor(b),b.chart=this)},processScrollbars:function(){var b=this.chartScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),this.addChartScrollbar(b))},updateScrollbars:function(){},removeChartCursor:function(){a.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d];f.valueAxis.recalculateToPercents?f.set&&f.set.hide():(f.x=this.marginLeftReal,f.y=this.marginTopReal,f.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(b){this.trendLines.push(b)},zoomOutValueAxes:function(){for(var d=this.valueAxes,c=0;c<d.length;c++){d[c].zoomOut()}},removeTrendLine:function(e){var d=this.trendLines,f;for(f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}},adjustMargins:function(f,e){var h=f.position,g=f.scrollbarHeight+f.offset;f.enabled&&("top"==h?e?this.marginLeftReal+=g:this.marginTopReal+=g:e?this.marginRightReal+=g:this.marginBottomReal+=g)},getScrollbarPosition:function(f,e,j){var i="bottom",h="top";f.oppositeAxis||(h=i,i="top");f.position=e?"bottom"==j||"left"==j?i:h:"top"==j||"right"==j?i:h},updateChartScrollbar:function(i,h){if(i){i.rotate=h;var p=this.marginTopReal,o=this.marginLeftReal,l=i.scrollbarHeight,n=this.dx,m=this.dy,j=i.offset;"top"==i.position?h?(i.y=p,i.x=o-l-j):(i.y=p-l+m-j,i.x=o+n):h?(i.y=p+m,i.x=o+this.plotAreaWidth+n+j):(i.y=p+this.plotAreaHeight+j,i.x=this.marginLeftReal)}},showZB:function(d){var c=this.zbSet;d&&(c=this.zoomOutText,""!==c&&c&&this.drawZoomOutButton());if(c=this.zbSet){this.zoomButtonSet.push(c),d?c.show():c.hide(),this.rollOutZB()}},handleReleaseOutside:function(b){a.AmRectangularChart.base.handleReleaseOutside.call(this,b);(b=this.chartCursor)&&b.handleReleaseOutside&&b.handleReleaseOutside()},handleMouseDown:function(d){a.AmRectangularChart.base.handleMouseDown.call(this,d);var c=this.chartCursor;c&&c.handleMouseDown&&!this.rolledOverZB&&c.handleMouseDown(d)},update:function(){a.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(b){this.relativeZoomValueAxes(b.target.valueAxes,b.relativeStart,b.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(f){if(f&&f.enabled){var e=f.valueAxes[0],h=e.relativeStart,g=e.relativeEnd;e.reversed&&(g=1-h,h=1-e.relativeEnd);f.percentZoom(h,g)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var d=this.valueAxes,c;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}d=this.graphs;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}(c=this.chartCursor)&&c.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(f,e){var j=f.relativeStart,i=f.relativeEnd;if(j>i){var h=j,j=i,i=h}this.relativeZoomValueAxes(e,j,i);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(f,e,l){e=a.fitToBounds(e,0,1);l=a.fitToBounds(l,0,1);if(e>l){var k=e;e=l;l=k}var k=1/this.maxZoomFactor,j=a.getDecimals(k)+4;l-e<k&&(l=e+(l-e)/2,e=l-k/2,l+=k/2);e=a.roundTo(e,j);l=a.roundTo(l,j);k=!1;if(f){for(j=0;j<f.length;j++){var i=f[j].zoomToRelativeValues(e,l,!0);i&&(k=i)}this.showZB()}return k},addChartCursor:function(b){a.callMethod("destroy",[this.chartCursor]);b&&(this.listenTo(b,"moved",this.handleCursorMove),this.listenTo(b,"zoomed",this.handleCursorZoom),this.listenTo(b,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(b,"panning",this.handleCursorPanning),this.listenTo(b,"onHideCursor",this.handleCursorHide));this.chartCursor=b},handleCursorChange:function(){},handleCursorMove:function(e){var d,f=this.valueAxes;for(d=0;d<f.length;d++){e.panning||f[d].showBalloon(e.x,e.y)}},handleCursorZoom:function(r){if(this.skipZoomed){this.skipZoomed=!1}else{var q=this.startX0,p=this.endX0,o=this.endY0,j=this.startY0,n=r.startX,m=r.endX,i=r.startY,h=r.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(q+n*(p-q),q+m*(p-q),j+i*(o-j),j+h*(o-j),r)}},handleCursorHide:function(){var d,c=this.valueAxes;for(d=0;d<c.length;d++){c[d].hideBalloon()}c=this.graphs;for(d=0;d<c.length;d++){c[d].hideBalloonReal()}}})})();(function(){var a=window.AmCharts;a.AmSerialChart=a.Class({inherits:a.AmRectangularChart,construct:function(d){this.type="serial";a.AmSerialChart.base.construct.call(this,d);this.cname="AmSerialChart";this.theme=d;this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=0.8;var c=new a.CategoryAxis(d);c.chart=this;this.categoryAxis=c;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;a.applyTheme(this,d,this.cname)},initChart:function(){a.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");if(this.dataChanged){this.parseData()}else{this.onDataUpdated()}this.drawGraphs=!0},onDataUpdated:function(){var f=this.countColumns(),e=this.chartData,j=this.graphs,i;for(i=0;i<j.length;i++){var h=j[i];h.data=e;h.columnCount=f}0<e.length&&(this.firstTime=this.getStartTime(e[0].time),this.lastTime=this.getEndTime(e[e.length-1].time));this.drawChart();this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},handleWheelReal:function(r,q){if(!this.wheelBusy){var p=this.categoryAxis,o=p.parseDates,j=p.minDuration(),n=p=1;this.mouseWheelZoomEnabled?q||(p=-1):q&&(p=-1);var m=this.chartData.length,i=this.lastTime,h=this.firstTime;0>r?o?(m=this.endTime-this.startTime,o=this.startTime+p*j,j=this.endTime+n*j,0<n&&0<p&&j>=i&&(j=i,o=i-m),this.zoomToDates(new Date(o),new Date(j))):(0<n&&0<p&&this.end>=m-1&&(p=n=0),o=this.start+p,j=this.end+n,this.zoomToIndexes(o,j)):o?(m=this.endTime-this.startTime,o=this.startTime-p*j,j=this.endTime-n*j,0<n&&0<p&&o<=h&&(o=h,j=h+m),this.zoomToDates(new Date(o),new Date(j))):(0<n&&0<p&&1>this.start&&(p=n=0),o=this.start-p,j=this.end-n,this.zoomToIndexes(o,j))}},validateData:function(b){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!b&&(this.endTime=this.end=this.startTime=this.start=NaN);a.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){a.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(a.ifArray(e)){var d=this.chartScrollbar;!d||!this.marginsUpdated&&this.autoMargins||d.draw();(d=this.valueScrollbar)&&d.draw();var e=e.length-1,f,d=this.categoryAxis;if(d.parseDates&&!d.equalSpacing){if(d=this.startTime,f=this.endTime,isNaN(d)||isNaN(f)){d=this.firstTime,f=this.lastTime}}else{if(d=this.start,f=this.end,isNaN(d)||isNaN(f)){d=0,f=e}}this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(d,f)}}else{this.cleanChart()}},cleanChart:function(){a.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,d,f){e.chart=this;e.id=f;e.rotate=d;e.setOrientation(!this.rotate);e.init();this.setAxisRenderers(e);this.updateObjectSize(e)},updateValueAxes:function(){a.AmSerialChart.base.updateValueAxes.call(this);var f=this.valueAxes,e;for(e=0;e<f.length;e++){var h=f[e],g=this.rotate;h.rotate=g;h.setOrientation(g);g=this.categoryAxis;if(!g.startOnAxis||g.parseDates){h.expandMinMax=!0}}},getStartTime:function(d){var c=this.categoryAxis;return a.resetDateToMin(new Date(d),c.minPeriod,1,c.firstDayOfWeek).getTime()},getEndTime:function(d){var c=a.extractPeriod(this.categoryAxis.minPeriod);return a.changeDate(new Date(d),c.period,c.count,!0).getTime()-1},updateMargins:function(){a.AmSerialChart.base.updateMargins.call(this);var b=this.chartScrollbar;b&&(this.getScrollbarPosition(b,this.rotate,this.categoryAxis.position),this.adjustMargins(b,this.rotate));if(b=this.valueScrollbar){this.getScrollbarPosition(b,!this.rotate,this.valueAxes[0].position),this.adjustMargins(b,!this.rotate)}},updateScrollbars:function(){a.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate);this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,d){var f=this.categoryAxis;f.parseDates&&!f.equalSpacing?this.timeZoom(e,d):this.indexZoom(e,d);isNaN(e)&&this.zoomOutValueAxes();this.updateLegendValues()},timeZoom:function(i,e){var p=this.maxSelectedTime;isNaN(p)||(e!=this.endTime&&e-i>p&&(i=e-p),i!=this.startTime&&e-i>p&&(e=i+p));var o=this.minSelectedTime;if(0<o&&e-i<o){var m=Math.round(i+(e-i)/2),o=Math.round(o/2);i=m-o;e=m+o}o=this.chartData;m=this.categoryAxis;if(a.ifArray(o)&&(i!=this.startTime||e!=this.endTime)){var l=m.minDuration(),n=this.firstTime,j=this.lastTime;i||(i=n,isNaN(p)||(i=j-p));e||(e=j);i>j&&(i=j);e<n&&(e=n);i<n&&(i=n);e>j&&(e=j);e<i&&(e=i+l);e-i<l/5&&(e<j?e=i+l/5:i=e-l/5);this.startTime=i;this.endTime=e;p=o.length-1;l=this.getClosestIndex(o,"time",i,!0,0,p);o=this.getClosestIndex(o,"time",e,!1,l,p);m.timeZoom(i,e);m.zoom(l,o);this.start=a.fitToBounds(l,0,p);this.end=a.fitToBounds(o,0,p);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();this.showZB();this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},showZB:function(){var d,c=this.categoryAxis;c&&c.parseDates&&!c.equalSpacing&&(this.startTime>this.firstTime&&(d=!0),this.endTime<this.lastTime&&(d=!0));0<this.start&&(d=!0);this.end<this.chartData.length-1&&(d=!0);if(c=this.valueAxes){c=c[0],0!==c.relativeStart&&(d=!0),1!=c.relativeEnd&&(d=!0)}a.AmSerialChart.base.showZB.call(this,d)},updateAfterValueZoom:function(){a.AmSerialChart.base.updateAfterValueZoom.call(this);this.updateColumnsDepth()},indexZoom:function(f,e){var h=this.maxSelectedSeries;isNaN(h)||(e!=this.end&&e-f>h&&(f=e-h),f!=this.start&&e-f>h&&(e=f+h));if(f!=this.start||e!=this.end){var g=this.chartData.length-1;isNaN(f)&&(f=0,isNaN(h)||(f=g-h));isNaN(e)&&(e=g);e<f&&(e=f);e>g&&(e=g);f>g&&(f=g-1);0>f&&(f=0);this.start=f;this.end=e;this.categoryAxis.zoom(f,e);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();0!==f||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchIndexZoomEvent()}},updateGraphs:function(){a.AmSerialChart.base.updateGraphs.call(this);var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.columnWidthReal=this.columnWidth;f.categoryAxis=this.categoryAxis;a.isString(f.fillToGraph)&&(f.fillToGraph=this.graphsById[f.fillToGraph])}},zoomAxesAndGraphs:function(){a.AmSerialChart.base.zoomAxesAndGraphs.call(this);this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var f,e=this.graphs,j;this.columnsArray=[];for(f=0;f<e.length;f++){j=e[f];var i=j.columnsArray;if(i){var h;for(h=0;h<i.length;h++){this.columnsArray.push(i[h])}}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){e=this.columnsSet;i=this.container.set();this.columnSet.push(i);for(f=0;f<this.columnsArray.length;f++){i.push(this.columnsArray[f].column.set)}j&&i.translate(j.x,j.y);this.columnsSet=i;a.remove(e)}}},compareDepth:function(d,c){return d.depth>c.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,d=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var f=e.dragger;f&&f.stop()}this.zoomedByScrollbar=!1;d.parseDates&&!d.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d],f=a.processObject(f,a.TrendLine,this.theme);e[d]=f;f.chart=this;f.id||(f.id="trendLineAuto"+d+"_"+(new Date).getTime());a.isString(f.valueAxis)&&(f.valueAxis=this.getValueAxisById(f.valueAxis));f.valueAxis||(f.valueAxis=this.valueAxes[0]);f.categoryAxis=this.categoryAxis}},countColumns:function(){var r=0,q=this.valueAxes.length,p=this.graphs.length,o,j,n=!1,m,i;for(i=0;i<q;i++){j=this.valueAxes[i];var h=j.stackType;if("100%"==h||"regular"==h){for(n=!1,m=0;m<p;m++){o=this.graphs[m],o.tcc=1,o.valueAxis==j&&"column"==o.type&&(!n&&o.stackable&&(r++,n=!0),(!o.stackable&&o.clustered||o.newStack)&&r++,o.columnIndex=r-1,o.clustered||(o.columnIndex=0))}}if("none"==h||"3d"==h){n=!1;for(m=0;m<p;m++){o=this.graphs[m],o.valueAxis==j&&"column"==o.type&&(o.clustered?(o.tcc=1,o.newStack&&(r=0),o.hidden||(o.columnIndex=r,r++)):o.hidden||(n=!0,o.tcc=1,o.columnIndex=0))}n&&0===r&&(r=1)}if("3d"==h){j=1;for(i=0;i<p;i++){o=this.graphs[i],o.newStack&&j++,o.depthCount=j,o.tcc=r}r=j}}return r},parseData:function(){a.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var d=this.chartData,f;for(f=0;f<d.length;f++){if(d[f].category==e){return f}}},handleScrollbarZoom:function(b){this.zoomedByScrollbar=!0;this.zoom(b.start,b.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime);e.endDate=new Date(this.endTime);e.startIndex=this.start;e.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=e.startDate;this.endDate=e.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var d=this.categoryAxis,f=a.extractPeriod(d.minPeriod).period,d=d.dateFormatsObject[f];e.startValue=a.formatDate(e.startDate,d,this);e.endValue=a.formatDate(e.endDate,d,this);e.chart=this;e.target=this;this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start;this.endIndex=this.end;var d=this.chartData;if(a.ifArray(d)&&!isNaN(this.start)&&!isNaN(this.end)){var c={chart:this,target:this,type:"zoomed"};c.startIndex=this.start;c.endIndex=this.end;c.startValue=d[this.start].category;c.endValue=d[this.end].category;this.categoryAxis.parseDates&&(this.startTime=d[this.start].time,this.endTime=d[this.end].time,c.startDate=new Date(this.startTime),c.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(c)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(i,g,p,o,n,l){0>n&&(n=0);l>i.length-1&&(l=i.length-1);var m=n+Math.round((l-n)/2),j=i[m][g];return p==j?m:1>=l-n?o?n:Math.abs(i[n][g]-p)<Math.abs(i[l][g]-p)?n:l:p==j?m:p<j?this.getClosestIndex(i,g,p,o,n,m):this.getClosestIndex(i,g,p,o,m,l)},zoomToIndexes:function(f,e){var h=this.chartData;if(h){var g=h.length;0<g&&(0>f&&(f=0),e>g-1&&(e=g-1),g=this.categoryAxis,g.parseDates&&!g.equalSpacing?this.zoom(h[f].time,this.getEndTime(h[e].time)):this.zoom(f,e))}},zoomToDates:function(f,e){var h=this.chartData;if(h){if(this.categoryAxis.equalSpacing){var g=this.getClosestIndex(h,"time",f.getTime(),!0,0,h.length);e=a.resetDateToMin(e,this.categoryAxis.minPeriod,1);h=this.getClosestIndex(h,"time",e.getTime(),!1,0,h.length);this.zoom(g,h)}else{this.zoom(f.getTime(),e.getTime())}}},zoomToCategoryValues:function(d,c){this.chartData&&this.zoom(this.getCategoryIndexByValue(d),this.getCategoryIndexByValue(c))},formatPeriodString:function(ab,aa){if(aa){var Z=["value","open","low","high","close"],Y="value open low high close average sum count".split(" "),W=aa.valueAxis,V=this.chartData,X=aa.numberFormatter;X||(X=this.nf);for(var U=0;U<Z.length;U++){for(var T=Z[U],S=0,O=0,R,Q,j,I,N,M=0,J=0,L,E,o,P,e,s=this.start;s<=this.end;s++){var i=V[s];if(i&&(i=i.axes[W.id].graphs[aa.id])){if(i.values){var K=i.values[T];if(this.rotate){if(0>i.x||i.x>i.graph.height){K=NaN}}else{if(0>i.x||i.x>i.graph.width){K=NaN}}if(!isNaN(K)){isNaN(R)&&(R=K);Q=K;if(isNaN(j)||j>K){j=K}if(isNaN(I)||I<K){I=K}N=a.getDecimals(S);var H=a.getDecimals(K),S=S+K,S=a.roundTo(S,Math.max(N,H));O++;N=S/O}}if(i.percents&&(i=i.percents[T],!isNaN(i))){isNaN(L)&&(L=i);E=i;if(isNaN(o)||o>i){o=i}if(isNaN(P)||P<i){P=i}e=a.getDecimals(M);K=a.getDecimals(i);M+=i;M=a.roundTo(M,Math.max(e,K));J++;e=M/J}}}M={open:L,close:E,high:P,low:o,average:e,sum:M,count:J};ab=a.formatValue(ab,{open:R,close:Q,high:I,low:j,average:N,sum:S,count:O},Y,X,T+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);ab=a.formatValue(ab,M,Y,this.pf,"percents\\."+T+"\\.")}}return ab=a.cleanFromEmpty(ab)},formatString:function(i,e,n){if(e){var m=e.graph;if(void 0!==i){if(-1!=i.indexOf("[[category]]")){var k=e.serialDataItem.category;if(this.categoryAxis.parseDates){var j=this.balloonDateFormat,l=this.chartCursor;l&&l.categoryBalloonDateFormat&&(j=l.categoryBalloonDateFormat);j=a.formatDate(k,j,this);-1!=j.indexOf("fff")&&(j=a.formatMilliseconds(j,k));k=j}i=i.replace(/\[\[category\]\]/g,String(k))}k=m.numberFormatter;k||(k=this.nf);j=e.graph.valueAxis;(l=j.duration)&&!isNaN(e.values.value)&&(l=a.formatDuration(e.values.value,l,"",j.durationUnits,j.maxInterval,k),i=i.replace(RegExp("\\[\\[value\\]\\]","g"),l));"date"==j.type&&(j=a.formatDate(new Date(e.values.value),m.dateFormat,this),l=RegExp("\\[\\[value\\]\\]","g"),i=i.replace(l,j),j=a.formatDate(new Date(e.values.open),m.dateFormat,this),l=RegExp("\\[\\[open\\]\\]","g"),i=i.replace(l,j));m="value open low high close total".split(" ");j=this.pf;i=a.formatValue(i,e.percents,m,j,"percents\\.");i=a.formatValue(i,e.values,m,k,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);i=a.formatValue(i,e.values,["percents"],j);-1!=i.indexOf("[[")&&(i=a.formatDataContextValue(i,e.dataContext));-1!=i.indexOf("[[")&&e.graph.customData&&(i=a.formatDataContextValue(i,e.graph.customData));i=a.AmSerialChart.base.formatString.call(this,i,e,n)}return i}},updateChartCursor:function(){a.AmSerialChart.base.updateChartCursor.call(this);var i=this.chartCursor,e=this.categoryAxis;if(i){var p=i.categoryBalloonAlpha,o=i.categoryBalloonColor,m=i.color;void 0===o&&(o=i.cursorColor);var l=i.valueZoomable,n=i.zoomable,j=i.valueLineEnabled;this.rotate?(i.vLineEnabled=j,i.hZoomEnabled=l,i.vZoomEnabled=n):(i.hLineEnabled=j,i.vZoomEnabled=l,i.hZoomEnabled=n);if(i.valueLineBalloonEnabled){for(j=0;j<this.valueAxes.length;j++){l=this.valueAxes[j],(n=l.balloon)||(n={}),n=a.extend(n,this.balloon,!0),n.fillColor=o,n.balloonColor=o,n.fillAlpha=p,n.borderColor=o,n.color=m,l.balloon=n}}else{for(n=0;n<this.valueAxes.length;n++){l=this.valueAxes[n],l.balloon&&(l.balloon=null)}}e&&(e.balloonTextFunction=i.categoryBalloonFunction,i.categoryLineAxis=e,e.balloonText=i.categoryBalloonText,i.categoryBalloonEnabled&&((n=e.balloon)||(n={}),n=a.extend(n,this.balloon,!0),n.fillColor=o,n.balloonColor=o,n.fillAlpha=p,n.borderColor=o,n.color=m,e.balloon=n),e.balloon&&(e.balloon.enabled=i.categoryBalloonEnabled))}},addChartScrollbar:function(b){a.callMethod("destroy",[this.chartScrollbar]);b&&(b.chart=this,this.listenTo(b,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===b.width&&(b.width=b.scrollbarHeight):void 0===b.height&&(b.height=b.scrollbarHeight);b.gridAxis=this.categoryAxis;this.chartScrollbar=b},addValueScrollbar:function(d){a.callMethod("destroy",[this.valueScrollbar]);d&&(d.chart=this,this.listenTo(d,"zoomed",this.handleScrollbarValueZoom),this.listenTo(d,"zoomStarted",this.handleCursorZoomStarted));var c=d.scrollbarHeight;this.rotate?void 0===d.height&&(d.height=c):void 0===d.width&&(d.width=c);d.gridAxis||(d.gridAxis=this.valueAxes[0]);d.valueAxes=this.valueAxes;this.valueScrollbar=d},removeChartScrollbar:function(){a.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},removeValueScrollbar:function(){a.callMethod("destroy",[this.valueScrollbar]);this.valueScrollbar=null},handleReleaseOutside:function(b){a.AmSerialChart.base.handleReleaseOutside.call(this,b);a.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){a.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update();this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){a.AmSerialChart.base.processScrollbars.call(this);var b=this.valueScrollbar;b&&(b=a.processObject(b,a.ChartScrollbar,this.theme),b.id="valueScrollbar",this.addValueScrollbar(b))},handleValueAxisZoom:function(b){this.handleValueAxisZoomReal(b,this.valueAxes)},zoomOut:function(){a.AmSerialChart.base.zoomOut.call(this);this.zoom()},getNextItem:function(f){var e=f.index,h=this.chartData,g=f.graph;if(e+1<h.length){for(e+=1;e<h.length;e++){if(f=h[e]){if(f=f.axes[g.valueAxis.id].graphs[g.id],!isNaN(f.y)){return f}}}}},handleCursorZoomReal:function(i,g,p,o,n){var l=n.target,m,j;this.rotate?(isNaN(i)||isNaN(g)||this.relativeZoomValueAxes(this.valueAxes,i,g)&&this.updateAfterValueZoom(),l.vZoomEnabled&&(m=n.start,j=n.end)):(isNaN(p)||isNaN(o)||this.relativeZoomValueAxes(this.valueAxes,p,o)&&this.updateAfterValueZoom(),l.hZoomEnabled&&(m=n.start,j=n.end));isNaN(m)||isNaN(j)||(i=this.categoryAxis,i.parseDates&&!i.equalSpacing?this.zoomToDates(new Date(m),new Date(j)):this.zoomToIndexes(m,j))},handleCursorZoomStarted:function(){var e=this.valueAxes;if(e){var e=e[0],d=e.relativeStart,f=e.relativeEnd;e.reversed&&(d=1-e.relativeEnd,f=1-e.relativeStart);this.rotate?(this.startX0=d,this.endX0=f):(this.startY0=d,this.endY0=f)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition();this.prevCursorItem=null},handleCursorMove:function(x){a.AmSerialChart.base.handleCursorMove.call(this,x);var w=x.target,v=this.categoryAxis;if(x.panning){this.handleCursorHide(x)}else{if(this.chartData&&!w.isHidden){var u=this.graphs;if(u){var s;s=v.xToIndex(this.rotate?x.y:x.x);if(s=this.chartData[s]){var r,t,p,o;if(w.oneBalloonOnly){var j=Infinity;for(r=0;r<u.length;r++){if(t=u[r],t.balloon.enabled&&t.showBalloon&&!t.hidden){p=t.valueAxis.id;p=s.axes[p].graphs[t.id];p=p.y;"top"==t.showBalloonAt&&(p=0);"bottom"==t.showBalloonAt&&(p=this.height);var e=w.mouseX,i=w.mouseY;p=this.rotate?Math.abs(e-p):Math.abs(i-p);p<j&&(j=p,o=t)}}w.mostCloseGraph=o}if(this.prevCursorItem!=s||o!=this.prevMostCloseGraph){j=[];for(r=0;r<u.length;r++){t=u[r],p=t.valueAxis.id,p=s.axes[p].graphs[t.id],w.showNextAvailable&&isNaN(p.y)&&(p=this.getNextItem(p)),o&&t!=o?(t.showGraphBalloon(p,w.pointer,!1,w.graphBulletSize,w.graphBulletAlpha),t.balloon.hide(0)):w.valueBalloonsEnabled?(t.balloon.showBullet=w.bulletsEnabled,t.balloon.bulletSize=w.bulletSize/2,x.hideBalloons||(t.showGraphBalloon(p,w.pointer,!1,w.graphBulletSize,w.graphBulletAlpha),t.balloon.set&&j.push({balloon:t.balloon,y:t.balloon.pointToY}))):(t.currentDataItem=p,t.resizeBullet(p,w.graphBulletSize,w.graphBulletAlpha))}w.avoidBalloonOverlapping&&this.arrangeBalloons(j);this.prevCursorItem=s}this.prevMostCloseGraph=o}}v.showBalloon(x.x,x.y,w.categoryBalloonDateFormat,x.skip);this.updateLegendValues()}}},handleCursorHide:function(d){a.AmSerialChart.base.handleCursorHide.call(this,d);d=this.categoryAxis;this.prevCursorItem=null;this.updateLegendValues();d&&d.hideBalloon();d=this.graphs;var c;for(c=0;c<d.length;c++){d[c].currentDataItem=null}},handleCursorPanning:function(x){var w=x.target,v,u=x.deltaX,s=x.deltaY,r=x.delta2X,t=x.delta2Y;x=!1;if(this.rotate){isNaN(r)&&(r=u,x=!0);var p=this.endX0;v=this.startX0;var o=p-v,p=p-o*r,j=o;x||(j=0);x=a.fitToBounds(v-o*u,0,1-j)}else{isNaN(t)&&(t=s,x=!0),p=this.endY0,v=this.startY0,o=p-v,p+=o*s,j=o,x||(j=0),x=a.fitToBounds(v+o*t,0,1-j)}v=a.fitToBounds(p,j,1);var e;w.valueZoomable&&(e=this.relativeZoomValueAxes(this.valueAxes,x,v));var i;v=this.categoryAxis;this.rotate&&(u=s,r=t);x=!1;isNaN(r)&&(r=u,x=!0);if(w.zoomable&&(0<Math.abs(u)||0<Math.abs(r))){if(v.parseDates&&!v.equalSpacing){if(t=this.startTime0,s=this.endTime0,v=s-t,r*=v,o=this.firstTime,p=this.lastTime,j=v,x||(j=0),x=Math.round(a.fitToBounds(t-v*u,o,p-j)),r=Math.round(a.fitToBounds(s-r,o+j,p)),this.startTime!=x||this.endTime!=r){i={chart:this,target:w,type:"zoomed",start:x,end:r},this.skipZoomed=!0,w.fire(i),this.zoom(x,r),i=!0}}else{if(t=this.start0,s=this.end0,v=s-t,u=Math.round(v*u),r=Math.round(v*r),o=this.chartData.length-1,x||(v=0),x=a.fitToBounds(t-u,0,o-v),v=a.fitToBounds(s-r,v,o),this.start!=x||this.end!=v){this.skipZoomed=!0,w.fire({chart:this,target:w,type:"zoomed",start:x,end:v}),this.zoom(x,v),i=!0}}}!i&&e&&this.updateAfterValueZoom()},arrangeBalloons:function(i){var g=this.plotAreaHeight;i.sort(this.compareY);var p,o,n,l=this.plotAreaWidth,m=i.length;for(p=0;p<m;p++){o=i[p].balloon,o.setBounds(0,0,l,g),o.restorePrevious(),o.draw(),g=o.yPos-3}i.reverse();for(p=0;p<m;p++){o=i[p].balloon;var g=o.bottom,j=o.bottom-o.yPos;0<p&&g-j<n+3&&(o.setBounds(0,n+3,l,n+j+3),o.restorePrevious(),o.draw());o.set&&o.set.show();n=o.bottom}},compareY:function(d,c){return d.y<c.y?1:-1}})})();(function(){var a=window.AmCharts;a.Cuboid=a.Class({construct:function(G,E,D,C,A,y,z,w,v,t,i,s,o,F,H,j,g){this.set=G.set();this.container=G;this.h=Math.round(D);this.w=Math.round(E);this.dx=C;this.dy=A;this.colors=y;this.alpha=z;this.bwidth=w;this.bcolor=v;this.balpha=t;this.dashLength=F;this.topRadius=j;this.pattern=H;this.rotate=o;this.bcn=g;o?0>E&&0===i&&(i=180):0>D&&270==i&&(i=90);this.gradientRotation=i;0===C&&0===A&&(this.cornerRadius=s);this.draw()},draw:function(){var ay=this.set;ay.clear();var ax=this.container,aw=ax.chart,av=this.w,at=this.h,ar=this.dx,au=this.dy,aq=this.colors,ap=this.alpha,ao=this.bwidth,al=this.bcolor,an=this.balpha,am=this.gradientRotation,af=this.cornerRadius,ai=this.dashLength,ab=this.pattern,ak=this.topRadius,aj=this.bcn,aa=aq,ah=aq;"object"==typeof aq&&(aa=aq[0],ah=aq[aq.length-1]);var ag,ac,ad,W,ae,Z,X,R,s,e=ap;ab&&(ap=0);var Y,V,U,T,S=this.rotate;if(0<Math.abs(ar)||0<Math.abs(au)){if(isNaN(ak)){X=ah,ah=a.adjustLuminosity(aa,-0.2),ah=a.adjustLuminosity(aa,-0.2),ag=a.polygon(ax,[0,ar,av+ar,av,0],[0,au,au,0,0],ah,ap,1,al,0,am),0<an&&(s=a.line(ax,[0,ar,av+ar],[0,au,au],al,an,ao,ai)),ac=a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],ah,ap,1,al,0,am),ac.translate(ar,au),0<an&&(ad=a.line(ax,[ar,ar],[au,au+at],al,an,ao,ai)),W=a.polygon(ax,[0,0,ar,ar,0],[0,at,at+au,au,0],ah,ap,1,al,0,am),ae=a.polygon(ax,[av,av,av+ar,av+ar,av],[0,at,at+au,au,0],ah,ap,1,al,0,am),0<an&&(Z=a.line(ax,[av,av+ar,av+ar,av],[0,au,at+au,at],al,an,ao,ai)),ah=a.adjustLuminosity(X,0.2),X=a.polygon(ax,[0,ar,av+ar,av,0],[at,at+au,at+au,at,at],ah,ap,1,al,0,am),0<an&&(R=a.line(ax,[0,ar,av+ar],[at,at+au,at+au],al,an,ao,ai))}else{var o,j,i;S?(o=at/2,ah=ar/2,i=at/2,j=av+ar/2,V=Math.abs(at/2),Y=Math.abs(ar/2)):(ah=av/2,o=au/2,j=av/2,i=at+au/2+1,Y=Math.abs(av/2),V=Math.abs(au/2));U=Y*ak;T=V*ak;0.1<Y&&0.1<Y&&(ag=a.circle(ax,Y,aa,ap,ao,al,an,!1,V),ag.translate(ah,o));0.1<U&&0.1<U&&(X=a.circle(ax,U,a.adjustLuminosity(aa,0.5),ap,ao,al,an,!1,T),X.translate(j,i))}}ap=e;1>Math.abs(at)&&(at=0);1>Math.abs(av)&&(av=0);!isNaN(ak)&&(0<Math.abs(ar)||0<Math.abs(au))?(aq=[aa],aq={fill:aq,stroke:al,"stroke-width":ao,"stroke-opacity":an,"fill-opacity":ap},S?(ap="M0,0 L"+av+","+(at/2-at/2*ak),ao=" B",0<av&&(ao=" A"),a.VML?(ap+=ao+Math.round(av-U)+","+Math.round(at/2-T)+","+Math.round(av+U)+","+Math.round(at/2+T)+","+av+",0,"+av+","+at,ap=ap+(" L0,"+at)+(ao+Math.round(-Y)+","+Math.round(at/2-V)+","+Math.round(Y)+","+Math.round(at/2+V)+",0,"+at+",0,0")):(ap+="A"+U+","+T+",0,0,0,"+av+","+(at-at/2*(1-ak))+"L0,"+at,ap+="A"+Y+","+V+",0,0,1,0,0"),Y=90):(ao=av/2-av/2*ak,ap="M0,0 L"+ao+","+at,a.VML?(ap="M0,0 L"+ao+","+at,ao=" B",0>at&&(ao=" A"),ap+=ao+Math.round(av/2-U)+","+Math.round(at-T)+","+Math.round(av/2+U)+","+Math.round(at+T)+",0,"+at+","+av+","+at,ap+=" L"+av+",0",ap+=ao+Math.round(av/2+Y)+","+Math.round(V)+","+Math.round(av/2-Y)+","+Math.round(-V)+","+av+",0,0,0"):(ap+="A"+U+","+T+",0,0,0,"+(av-av/2*(1-ak))+","+at+"L"+av+",0",ap+="A"+Y+","+V+",0,0,1,0,0"),Y=180),ax=ax.path(ap).attr(aq),ax.gradient("linearGradient",[aa,a.adjustLuminosity(aa,-0.3),a.adjustLuminosity(aa,-0.3),aa],Y),S?ax.translate(ar/2,0):ax.translate(0,au/2)):ax=0===at?a.line(ax,[0,av],[0,0],al,an,ao,ai):0===av?a.line(ax,[0,0],[0,at],al,an,ao,ai):0<af?a.rect(ax,av,at,aq,ap,ao,al,an,af,am,ai):a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],aq,ap,ao,al,an,am,!1,ai);av=isNaN(ak)?0>at?[ag,s,ac,ad,W,ae,Z,X,R,ax]:[X,R,ac,ad,W,ae,ag,s,Z,ax]:S?0<av?[ag,ax,X]:[X,ax,ag]:0>at?[ag,ax,X]:[X,ax,ag];a.setCN(aw,ax,aj+"front");a.setCN(aw,ac,aj+"back");a.setCN(aw,X,aj+"top");a.setCN(aw,ag,aj+"bottom");a.setCN(aw,W,aj+"left");a.setCN(aw,ae,aj+"right");for(ag=0;ag<av.length;ag++){if(ac=av[ag]){ay.push(ac),a.setCN(aw,ac,aj+"element")}}ab&&ax.pattern(ab,NaN,aw.path)},width:function(b){isNaN(b)&&(b=0);this.w=Math.round(b);this.draw()},height:function(b){isNaN(b)&&(b=0);this.h=Math.round(b);this.draw()},animateHeight:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rh=f.h;f.frame=0;f.height(1);setTimeout(function(){f.updateHeight.call(f)},1000/a.updateRate)},updateHeight:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rh-1,c),d.height(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateHeight.call(d)}):setTimeout(function(){d.updateHeight.call(d)},1000/a.updateRate)):(d.height(d.rh),d.animationFinished=!0)},animateWidth:function(e,d){var f=this;f.animationFinished=!1;f.easing=d;f.totalFrames=e*a.updateRate;f.rw=f.w;f.frame=0;f.width(1);setTimeout(function(){f.updateWidth.call(f)},1000/a.updateRate)},updateWidth:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c?(c=d.easing(0,d.frame,1,d.rw-1,c),d.width(c),window.requestAnimationFrame?window.requestAnimationFrame(function(){d.updateWidth.call(d)}):setTimeout(function(){d.updateWidth.call(d)},1000/a.updateRate)):(d.width(d.rw),d.animationFinished=!0)}})})();(function(){var a=window.AmCharts;a.CategoryAxis=a.Class({inherits:a.AxisBase,construct:function(b){this.cname="CategoryAxis";a.CategoryAxis.base.construct.call(this,b);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.gridPosition="middle";this.safeDistance=30;this.stickBalloonToCategory=!1;a.applyTheme(this,b,this.cname)},draw:function(){a.CategoryAxis.base.draw.call(this);this.generateDFObject();var V=this.chart.chartData;this.data=V;this.labelRotationR=this.labelRotation;this.type=null;if(a.ifArray(V)){var U,T=this.chart;"scrollbar"!=this.id?(a.setCN(T,this.set,"category-axis"),a.setCN(T,this.labelsSet,"category-axis"),a.setCN(T,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var S=this.start,Q=this.labelFrequency,P=0,R=this.end-S+1,O=this.gridCountR,N=this.showFirstLabel,M=this.showLastLabel,I,L,K="",K=a.extractPeriod(this.minPeriod),i=a.getPeriodDuration(K.period,K.count),y,H,F,D,E=this.rotate;I=this.firstDayOfWeek;L=this.boldPeriodBeginning;U=a.resetDateToMin(new Date(V[V.length-1].time+1.05*i),this.minPeriod,1,I).getTime();this.firstTime=T.firstTime;this.endTime>U&&(this.endTime=U);D=this.minorGridEnabled;H=this.gridAlpha;var s,j=0,J=0;if(this.widthField){for(U=this.start;U<=this.end;U++){if(s=this.data[U]){var e=Number(this.data[U].dataContext[this.widthField]);isNaN(e)||(j+=e,s.widthValue=e)}}}if(this.parseDates&&!this.equalSpacing){this.lastTime=V[V.length-1].time,this.maxTime=a.resetDateToMin(new Date(this.lastTime+1.05*i),this.minPeriod,1,I).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw()}else{if(!this.parseDates){if(this.cellWidth=this.getStepWidth(R),R<O&&(O=R),P+=this.start,this.stepWidth=this.getStepWidth(R),0<O){for(O=Math.floor(R/O),R=this.chooseMinorFrequency(O),K=P,K/2==Math.round(K/2)&&K--,0>K&&(K=0),s=0,this.widthField&&(K=this.start),this.end-K+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),U=K;U<=this.end+2;U++){L=!1;0<=U&&U<this.data.length?(y=this.data[U],K=y.category,L=y.forceShow):K="";if(D&&!isNaN(R)){if(U/R==Math.round(U/R)||L){U/O==Math.round(U/O)||L||(this.gridAlpha=this.minorGridAlpha,K=void 0)}else{continue}}else{if(U/O!=Math.round(U/O)&&!L){continue}}I=this.getCoordinate(U-P);F=0;"start"==this.gridPosition&&(I-=this.cellWidth/2,F=this.cellWidth/2);L=!0;V=F;"start"==this.tickPosition&&(V=0,L=!1,F=0);if(U==S&&!N||U==this.end&&!M){K=void 0}Math.round(s/Q)!=s/Q&&(K=void 0);s++;e=this.cellWidth;E&&(e=NaN,this.ignoreAxisWidth||!T.autoMargins)&&(e="right"==this.position?T.marginRight:T.marginLeft,e-=this.tickLength+10);this.labelFunction&&y&&(K=this.labelFunction(K,y,this));K=a.fixBrakes(K);i=!1;this.boldLabels&&(i=!0);U>this.end&&"start"==this.tickPosition&&(K=" ");this.rotate&&this.inside&&(F-=2);isNaN(y.widthValue)||(y.percentWidthValue=y.widthValue/j*100,e=this.rotate?this.height*y.widthValue/j:this.width*y.widthValue/j,I=J,J+=e,F=e/2);F=new this.axisItemRenderer(this,I,K,L,e,F,void 0,i,V,!1,y.labelColor,y.className);F.serialDataItem=y;this.pushAxisItem(F);this.gridAlpha=H}}}else{if(this.parseDates&&this.equalSpacing){P=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;U=this.choosePeriod(0);Q=U.period;y=U.count;U=a.getPeriodDuration(Q,y);U<i&&(Q=K.period,y=K.count,U=i);H=Q;"WW"==H&&(H="DD");this.currentDateFormat=this.dateFormatsObject[H];this.stepWidth=this.getStepWidth(R);O=Math.ceil(this.timeDifference/U)+1;i=a.resetDateToMin(new Date(this.startTime-U),Q,y,I).getTime();this.cellWidth=this.getStepWidth(R);K=Math.round(i/U);S=-1;K/2==Math.round(K/2)&&(S=-2,i-=U);K=this.start;K/2==Math.round(K/2)&&K--;0>K&&(K=0);J=this.end+2;J>=this.data.length&&(J=this.data.length);s=!1;s=!N;this.previousPos=-1000;20<this.labelRotationR&&(this.safeDistance=5);V=K;if(this.data[K].time!=a.resetDateToMin(new Date(this.data[K].time),Q,y,I).getTime()){for(I=0,e=i,U=K;U<J;U++){R=this.data[U].time,this.checkPeriodChange(Q,y,R,e)&&(I++,2<=I&&(V=U,U=J),e=R)}}D&&1<y&&(R=this.chooseMinorFrequency(y),a.getPeriodDuration(Q,R));if(0<this.gridCountR){for(U=K;U<J;U++){if(R=this.data[U].time,this.checkPeriodChange(Q,y,R,i)&&U>=V){I=this.getCoordinate(U-this.start);D=!1;this.nextPeriod[H]&&(D=this.checkPeriodChange(this.nextPeriod[H],1,R,i,H));i=!1;D&&this.markPeriodChange?(D=this.dateFormatsObject[this.nextPeriod[H]],i=!0):D=this.dateFormatsObject[H];K=a.formatDate(new Date(R),D,T);if(U==S&&!N||U==O&&!M){K=" "}s?s=!1:(L||(i=!1),I-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(K=this.labelFunction(K,new Date(R),this,Q,y,F)),this.boldLabels&&(i=!0),F=new this.axisItemRenderer(this,I,K,void 0,void 0,void 0,void 0,i),D=F.graphics(),this.pushAxisItem(F),D=D.getBBox().width,a.isModern||(D-=I),this.previousPos=I+D));F=i=R}}}}}}for(U=N=0;U<this.data.length;U++){if(s=this.data[U]){this.parseDates&&!this.equalSpacing?(M=s.time,S=this.cellWidth,"MM"==this.minPeriod&&(S=86400000*a.daysInMonth(new Date(M))*this.stepWidth,s.cellWidth=S),M=Math.round((M-this.startTime)*this.stepWidth+S/2)):M=this.getCoordinate(U-P),s.x[this.id]=M}}if(this.widthField){for(U=this.start;U<=this.end;U++){s=this.data[U],S=s.widthValue,s.percentWidthValue=S/j*100,this.rotate?(M=this.height*S/j/2+N,N=this.height*S/j+N):(M=this.width*S/j/2+N,N=this.width*S/j+N),s.x[this.id]=M}}j=this.guides.length;for(U=0;U<j;U++){N=this.guides[U],L=O=O=D=S=NaN,M=N.above,N.toCategory&&(O=T.getCategoryIndexByValue(N.toCategory),isNaN(O)||(S=this.getCoordinate(O-P),N.expand&&(S+=this.cellWidth/2),F=new this.axisItemRenderer(this,S,"",!0,NaN,NaN,N),this.pushAxisItem(F,M))),N.category&&(L=T.getCategoryIndexByValue(N.category),isNaN(L)||(D=this.getCoordinate(L-P),N.expand&&(D-=this.cellWidth/2),O=(S-D)/2,F=new this.axisItemRenderer(this,D,N.label,!0,NaN,O,N),this.pushAxisItem(F,M))),L=T.dataDateFormat,N.toDate&&(!L||N.toDate instanceof Date||(N.toDate=N.toDate.toString()+" |"),N.toDate=a.getDate(N.toDate,L),this.equalSpacing?(O=T.getClosestIndex(this.data,"time",N.toDate.getTime(),!1,0,this.data.length-1),isNaN(O)||(S=this.getCoordinate(O-P))):S=(N.toDate.getTime()-this.startTime)*this.stepWidth,F=new this.axisItemRenderer(this,S,"",!0,NaN,NaN,N),this.pushAxisItem(F,M)),N.date&&(!L||N.date instanceof Date||(N.date=N.date.toString()+" |"),N.date=a.getDate(N.date,L),this.equalSpacing?(L=T.getClosestIndex(this.data,"time",N.date.getTime(),!1,0,this.data.length-1),isNaN(L)||(D=this.getCoordinate(L-P))):D=(N.date.getTime()-this.startTime)*this.stepWidth,O=(S-D)/2,L=!0,N.toDate&&(L=!1),F="H"==this.orientation?new this.axisItemRenderer(this,D,N.label,L,2*O,NaN,N):new this.axisItemRenderer(this,D,N.label,!1,NaN,O,N),this.pushAxisItem(F,M)),(0<S||0<D)&&(S<this.width||D<this.width)&&(S=new this.guideFillRenderer(this,D,S,N),D=S.graphics(),this.pushAxisItem(S,M),N.graphics=D,D.index=U,N.balloonText&&this.addEventListeners(D,N))}if(T=T.chartCursor){E?T.fixHeight(this.cellWidth):(T.fixWidth(this.cellWidth),T.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))}this.previousHeight=o}this.axisCreated=!0;this.set.translate(this.x,this.y);this.labelsSet.translate(this.x,this.y);this.labelsSet.show();this.positionTitle();(E=this.axisLine.set)&&E.toFront();var o=this.getBBox().height;2<o-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(i){var e=this.data,p=this.chart,o=p.rotate,m=this.stepWidth,l;if(this.parseDates&&!this.equalSpacing){i=this.startTime+Math.round(i/m)-this.minDuration()/2,l=p.getClosestIndex(e,"time",i,!1,this.start,this.end+1)}else{if(this.widthField){for(p=Infinity,m=this.start;m<=this.end;m++){var n=this.data[m];n&&(n=Math.abs(n.x[this.id]-i),n<p&&(p=n,l=m))}}else{this.startOnAxis||(i-=m/2),l=this.start+Math.round(i/m)}}l=a.fitToBounds(l,0,e.length-1);var j;e[l]&&(j=e[l].x[this.id]);o?j>this.height+1&&l--:j>this.width+1&&l--;0>j&&l++;return l=a.fitToBounds(l,0,e.length-1)},dateToCoordinate:function(b){return this.parseDates&&!this.equalSpacing?(b.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(b=this.chart.getClosestIndex(this.data,"time",b.getTime(),!1,0,this.data.length-1),this.getCoordinate(b-this.start)):NaN},categoryToCoordinate:function(d){if(this.chart){var c=this.chart.getCategoryIndexByValue(d);if(!isNaN(c)){return this.getCoordinate(c-this.start)}if(this.parseDates){return this.dateToCoordinate(new Date(d))}}else{return NaN}},coordinateToDate:function(b){return this.equalSpacing?(b=this.xToIndex(b),new Date(this.data[b].time)):new Date(this.startTime+b/this.stepWidth)},coordinateToValue:function(b){b=this.xToIndex(b);if(b=this.data[b]){return this.parseDates?b.time:b.category}},getCoordinate:function(b){b*=this.stepWidth;this.startOnAxis||(b+=this.stepWidth/2);return Math.round(b)},formatValue:function(d,c){c||(c=this.currentDateFormat);this.parseDates&&(d=a.formatDate(new Date(d),c,this.chart));return d},showBalloonAt:function(b){b=this.parseDates?this.dateToCoordinate(new Date(b)):this.categoryToCoordinate(b);return this.adjustBalloonCoordinate(b)},formatBalloonText:function(i,e,p){var o="",m="",l=this.chart,n=this.data[e];if(n){if(this.parseDates){o=a.formatDate(n.category,p,l),e=a.changeDate(new Date(n.category),this.minPeriod,1),m=a.formatDate(e,p,l),-1!=o.indexOf("fff")&&(o=a.formatMilliseconds(o,n.category),m=a.formatMilliseconds(m,e))}else{var j;this.data[e+1]&&(j=this.data[e+1]);o=a.fixNewLines(n.category);j&&(m=a.fixNewLines(j.category))}}i=i.replace(/\[\[category\]\]/g,String(o));return i=i.replace(/\[\[toCategory\]\]/g,String(m))},adjustBalloonCoordinate:function(i,g){var n=this.xToIndex(i),m=this.chart.chartCursor;if(this.stickBalloonToCategory){var l=this.data[n];l&&(i=l.x[this.id]);this.stickBalloonToStart&&(i-=this.cellWidth/2);var j=0;if(m){var k=m.limitToGraph;k&&(j=l.axes[k.valueAxis.id].graphs[k.id].y);this.rotate?("left"==this.position?(k&&(j-=m.width),0<j&&(j=0)):0>j&&(j=0),m.fixHLine(i,j)):("top"==this.position?(k&&(j-=m.height),0<j&&(j=0)):0>j&&(j=0),m.fixVLine(i,j))}}m&&!g&&(m.setIndex(n),this.parseDates&&m.setTimestamp(this.coordinateToDate(i).getTime()));return i}})})();